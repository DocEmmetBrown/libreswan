/testing/guestbin/swan-prep --nokeys
Creating empty NSS database
west #
 rm -f /tmp/newhostkey.txt
west #
 ckaid=$(ipsec newhostkey --keytype ecdsa 2>&1 | grep "showhostkey" | sed "s/^.*ckaid //")
west #
 # sanitizing brought to you by id-sanitize.sed
west #
 ipsec showhostkey --list
< 1> west # ipsec showhostkey --dump
< 1> west # ipsec showhostkey --left --ckaid "${ckaid}"
	# ecdsakey 5Bd7o+VXk
	leftecdsakey=0spu5eGXCr9qR4eFcmurvbwapeFxzF9KY0i4Rj8q9hsChDFR6Bq0qhLquPZXxhH3y51dopTGuxMN2KPb52QN19vw==
west #
 ipsec showhostkey --ipseckey --ckaid "${ckaid}"
west.    IN    IPSECKEY  10 0 3 . <<RAW-PUBKEY#1>>
west #
 # see description.txt for why they are different
west #
 ipsec showhostkey --pem --ckaid "${ckaid}" | grep PUBLIC
ipsec showhostkey: not implemented
west #
 ipsec showhostkey --pem --ckaid "${ckaid}" | openssl pkey -inform PEM -pubin | grep PUBLIC
ipsec showhostkey: not implemented
unable to load Public Key
140566842813952:error:0909006C:PEM routines:get_name:no start line:crypto/pem/pem_lib.c:745:Expecting: PUBLIC KEY
west #
 

